{{ if site.IsMultiLingual }}
<div class="language-switcher flex items-center gap-1" x-data="{ currentLang: '{{ .Language.Lang }}' }">
  {{ range site.Languages }}
    {{ $isCurrent := eq .Lang $.Language.Lang }}
    {{ $langURL := cond (eq .Lang "en") "/" (printf "/%s/" .Lang) }}
    <a 
      href="{{ $langURL }}"
      class="language-flag {{ if $isCurrent }}active{{ end }}"
      :class="{ 'active': currentLang === '{{ .Lang }}' }"
      @click="currentLang = '{{ .Lang }}'"
      title="{{ .LanguageName }}"
      aria-label="Switch to {{ .LanguageName }}"
    >
      {{ if eq .Lang "en" }}
        <span class="flag-icon">ğŸ‡¬ğŸ‡§</span>
      {{ else if eq .Lang "es" }}
        <span class="flag-icon">ğŸ‡ªğŸ‡¸</span>
      {{ else if eq .Lang "fr" }}
        <span class="flag-icon">ğŸ‡«ğŸ‡·</span>
      {{ end }}
    </a>
  {{ end }}
</div>
{{ end }}
